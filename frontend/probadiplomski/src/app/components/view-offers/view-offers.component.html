<div class="offers-container">
  <h2>All Offers</h2>
  <mat-card>
    <mat-table [dataSource]="offers" class="mat-elevation-z8">

      <!-- Kolone za tabelu -->
      <ng-container matColumnDef="packageName">
        <mat-header-cell *matHeaderCellDef> Package Name </mat-header-cell>
        <mat-cell *matCellDef="let offer"> {{ offer.packageName }} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="description">
        <mat-header-cell *matHeaderCellDef> Description </mat-header-cell>
        <mat-cell *matCellDef="let offer"> {{ offer.description }} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="startDate">
        <mat-header-cell *matHeaderCellDef> Start Date </mat-header-cell>
        <mat-cell *matCellDef="let offer"> {{ offer.startDate | date:'shortDate' }} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="endDate">
        <mat-header-cell *matHeaderCellDef> End Date </mat-header-cell>
        <mat-cell *matCellDef="let offer"> {{ offer.endDate | date:'shortDate' }} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="pricePerPerson">
        <mat-header-cell *matHeaderCellDef> Price Per Person </mat-header-cell>
        <mat-cell *matCellDef="let offer"> {{ offer.pricePerPerson | currency }} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="totalPackage">
        <mat-header-cell *matHeaderCellDef> Total Package </mat-header-cell>
        <mat-cell *matCellDef="let offer"> {{ offer.totalPackage }} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="numberOfPeople">
        <mat-header-cell *matHeaderCellDef> Number of People </mat-header-cell>
        <mat-cell *matCellDef="let offer"> {{ offer.numberOfPeople }} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="hotelName">
        <mat-header-cell *matHeaderCellDef> Hotel Name </mat-header-cell>
        <mat-cell *matCellDef="let offer"> {{ offer.hotelName }} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="countryName">
        <mat-header-cell *matHeaderCellDef> Country Name </mat-header-cell>
        <mat-cell *matCellDef="let offer"> {{ offer.countryName }} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="actions">
        <mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>
        <mat-cell *matCellDef="let offer">
          <button *ngIf="userRole === 'Admin' || userRole === 'Agent'" mat-button (click)="goToUpdateOffer(offer.tourPackageId)">Update</button>
          <button *ngIf="userRole === 'Customer'" mat-button color="primary" (click)="goToReserveOffer(offer.tourPackageId)">Reserve</button>
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

    </mat-table>
  </mat-card>

  <ng-template #noOffers>
    <p>No offers available at the moment.</p>
  </ng-template>
</div>
